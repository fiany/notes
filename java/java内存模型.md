# Java内存模型

## 内存简介

![](..\assets\2019-04-17-152211.png)

- 32位处理器：2^32的可寻址范围
- 64位处理器：2^64的可寻址范围

## 地址空间划分

- 内核空间
- 用户空间

## JVM内存模型-jdk8

- 线程私有：程序计数器、虚拟机栈、本地方法栈
- 线程共享：MetaSpace、java堆

#### 元空间（MetaSpace）与永久代（PermGen）的区别

- 原空间使用本地内存，而永久代使用的是jvm内存

#### MetaSpace相比PermGen的优势

- 字符串常量池存在永久代中，容易出现性能问题和内存溢出
- 类和方法的信息大小难以确定，给永久代的大小指定带来困难
- 永久代会为GC带来不必要的复杂性
- 方便HotSpot与其他JVM如Jrockit的集成 

#### java堆（Heap）

- 对象实例的分配区域
- GC管理的主要区域

#### JVM三大性能调休参数

- -Xss：规定了每个线程虚拟机栈的大小
- -Xms：堆的初始值
- -Xmx：堆能达到的最大值